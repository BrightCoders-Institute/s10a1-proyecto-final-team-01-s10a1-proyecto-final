<%= content_tag :div, id: (dom_id accommodation), data: { controller: "places" } do %>
  <div class="accommodation-t border-b border-gray-200">
    <div class="accommodation-info">
      <h1 class="font-bold text-4xl"><%= accommodation.title %></h1>
      <div class="info-t">
        <div class="info-container">
          <i class="fa-solid fa-star" style="color: #7752fe;"></i>
          <%= accommodation.calculate_rating %>
        </div>
        <div class="info-container">
          <i class="fa-solid fa-location-dot" style="color: #7752fe;"></i>
          <%= accommodation.address %>
        </div>
        <div class="info-container">
          <i class="fa-solid fa-earth-americas" style="color: #7752fe;"></i>
          <%= accommodation.category.name %>
        </div>
        <div class="info-container">
          <i class="fa-solid fa-user" style="color: #7752fe;"></i>
          <%= accommodation.user.email %>
        </div>
      </div>
    </div>
    <div class="buttons">
      <%= link_to "Back to accommodations", accommodations_path, class: "ml-2 rounded-lg py-3 px-5 inline-block font-medium back-button" %>
      <% if action_name != "show" %>
        <%= link_to "Show this accommodation", accommodation, class: "rounded-lg py-3 px-5 bg-gray-100 inline-block font-medium" %>
        <%= link_to "Edit this accommodation", edit_accommodation_path(accommodation), class: "rounded-lg py-3 ml-2 px-5 bg-gray-100 inline-block font-medium" %>
      <% end %>
    </div>
  </div>
  <div class="accommodation-gallery">
    <%= image_tag accommodation.main_image if accommodation.main_image.attached? %>
    <% accommodation.secondary_images.each do |secondary_image| %>
      <div class="my-5"><%= image_tag secondary_image %></div>
    <% end %>
  </div>
  <div class="accommodation-details border-b border-gray-200">
    <div class="amenities">
      <h2><%= accommodation.title %> by <%= accommodation.user.name %></h2>
      <div class="info-t">
        <div class="info-container">
          <i class="fa-solid fa-person-circle-question" style="color: #190482;"></i>
          <p><%= accommodation.max_guests_number %> guests</p>
        </div>
        <div class="info-container">
          <i class="fa-solid fa-person-shelter" style="color: #190482;"></i>
          <p><%= accommodation.bedrooms_number %> bedrooms </p>
        </div>
        <div class="info-container">
          <i class="fa-solid fa-bed" style="color: #190482;"></i>
          <p><%= accommodation.beds_number %> beds </p>
        </div>
        <div class="info-container">
          <i class="fa-solid fa-bath" style="color: #190482;"></i>
          <p><%= accommodation.bathrooms_number %> baths </p>
        </div>
      </div>
      <div class="description-details">
        <h3>Description</h3>
        <p><%= accommodation.description %></p>
      </div>
    </div>
    <div class="accommodation-price">
      <div class="card-price">
        <div class="price-data">
          <div class="price">
            <h3>$<%= accommodation.price_per_day %> / night</h3>
          </div>
          <div class="date-range">
            <h4>Check-In | Check-Out:</h4>
            <p><%= accommodation.dates_range %></p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="rules border-b border-gray-200">
    <h3>Rules</h3>
    <p><%= accommodation.rules %></p>
  </div>
  <div class="location border-b border-gray-200">
    <h3>Location</h3>
    <p>(<span data-places-target="longitude"><%= accommodation.longitude %></span>, <span data-places-target="latitude"><%= accommodation.latitude %></span>)</p>
    <%= tag.div class: "my-5 h-[400px]", data: { "places-target": "component" } %>
  </div>
<% end %>
