<div class="container-profile">
  <%= render 'shared/head' %>
  <% if notice.present? %>
    <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-lg inline-block" id="notice"><%= notice %></p>
  <% end %>

  <div class="flex justify-between items-center">
    <h1 class="font-bold text-4xl">Accommodations</h1>
    <div>
      <% if current_user.is_a_host_or_admin? %>
        <%= link_to "New accommodation", new_accommodation_path, class: "inline-block rounded-lg py-3 px-5 bg-blue-600 text-white block font-medium" %>
      <% end %>
    </div>
  </div>

  <div>
    <%= render "search_filter_form" %>
  </div>

  <div id="accommodations" class="accommodations min-w-full">
    <% @accommodations.each do |accommodation| %>
      <%= link_to accommodation do %>
        <div class="accommodation-container">
          <div class="accommodation-header">
            <p class="accommodation-title"><%= accommodation.title %></p>
            <div class="star-wrapper">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill"
                viewBox="0 0 16 16">
                <path
                  d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z" />
              </svg>
              <p class="accommodation-title">5.0</p>
            </div>
          </div>
          <div class="accommodation-info">
            <p class="general-info"><%= accommodation.address %></p>
            <p class="general-info"><%= accommodation.dates_range %></p>
          </div>
          <p class="accommodation-title">$<%= accommodation.price_per_day %></p>
        </div>
      <% end %>
    <% end %>
  </div>

  <%== pagy_nav(@pagy) if @pagy.pages > 1 %>
</div>
